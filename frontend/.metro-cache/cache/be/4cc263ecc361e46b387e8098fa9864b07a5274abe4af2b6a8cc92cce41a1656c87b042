{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":35,"index":195}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        if (storedToken) {\n          _utilsApi.api.setToken(storedToken);\n          const userData = await _utilsApi.api.getMe();\n          setUser(userData);\n          setToken(storedToken);\n        }\n      } catch {\n        await AsyncStorage.default.removeItem('auth_token');\n        _utilsApi.api.setToken(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const res = await _utilsApi.api.login({\n        email,\n        password\n      });\n      _utilsApi.api.setToken(res.token);\n      await AsyncStorage.default.setItem('auth_token', res.token);\n      setToken(res.token);\n      setUser(res.user);\n    };\n    const register = async data => {\n      const res = await _utilsApi.api.register(data);\n      _utilsApi.api.setToken(res.token);\n      await AsyncStorage.default.setItem('auth_token', res.token);\n      setToken(res.token);\n      setUser(res.user);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      _utilsApi.api.setToken(null);\n      setToken(null);\n      setUser(null);\n    };\n    const updateUser = async data => {\n      const updated = await _utilsApi.api.updateProfile(data);\n      setUser(updated);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout,\n        updateUser,\n        isAdmin: user?.role === 'admin'\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    return (0, _react.useContext)(AuthContext);\n  };\n  _s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":108,"map":[[15,2,28,0,"exports"],[15,9,28,0],[15,10,28,0,"AuthProvider"],[15,22,28,0],[15,25,28,0,"AuthProvider"],[15,37,28,0],[16,2,89,0,"Object"],[16,8,89,0],[16,9,89,0,"defineProperty"],[16,23,89,0],[16,24,89,0,"exports"],[16,31,89,0],[17,4,89,0,"enumerable"],[17,14,89,0],[18,4,89,0,"get"],[18,7,89,0],[18,18,89,0,"get"],[18,19,89,0],[19,6,89,0],[19,13,89,0,"useAuth"],[19,20,89,0],[20,4,89,0],[21,2,89,0],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[23,42,2,0],[23,45,2,0,"require"],[23,52,2,0],[23,53,2,0,"_dependencyMap"],[23,67,2,0],[24,2,2,0],[24,6,2,0,"AsyncStorage"],[24,18,2,0],[24,21,2,0,"_interopDefault"],[24,36,2,0],[24,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[24,73,2,0],[25,2,3,0],[25,6,3,0,"_utilsApi"],[25,15,3,0],[25,18,3,0,"require"],[25,25,3,0],[25,26,3,0,"_dependencyMap"],[25,40,3,0],[26,2,3,35],[26,6,3,35,"_reactJsxDevRuntime"],[26,25,3,35],[26,28,3,35,"require"],[26,35,3,35],[26,36,3,35,"_dependencyMap"],[26,50,3,35],[27,2,26,0],[27,8,26,6,"AuthContext"],[27,19,26,17],[27,35,26,20],[27,39,26,20,"createContext"],[27,45,26,33],[27,46,26,33,"createContext"],[27,59,26,33],[27,61,26,51],[27,62,26,52],[27,63,26,72],[27,64,26,73],[28,2,28,7],[28,11,28,16,"AuthProvider"],[28,23,28,28,"AuthProvider"],[28,24,28,29],[29,4,28,31,"children"],[30,2,28,65],[30,3,28,66],[30,5,28,68],[31,4,28,68,"_s"],[31,6,28,68],[32,4,29,2],[32,10,29,8],[32,11,29,9,"user"],[32,15,29,13],[32,17,29,15,"setUser"],[32,24,29,22],[32,25,29,23],[32,28,29,26],[32,32,29,26,"useState"],[32,38,29,34],[32,39,29,34,"useState"],[32,47,29,34],[32,49,29,48],[32,53,29,52],[32,54,29,53],[33,4,30,2],[33,10,30,8],[33,11,30,9,"token"],[33,16,30,14],[33,18,30,16,"setToken"],[33,26,30,24],[33,27,30,25],[33,30,30,28],[33,34,30,28,"useState"],[33,40,30,36],[33,41,30,36,"useState"],[33,49,30,36],[33,51,30,52],[33,55,30,56],[33,56,30,57],[34,4,31,2],[34,10,31,8],[34,11,31,9,"loading"],[34,18,31,16],[34,20,31,18,"setLoading"],[34,30,31,28],[34,31,31,29],[34,34,31,32],[34,38,31,32,"useState"],[34,44,31,40],[34,45,31,40,"useState"],[34,53,31,40],[34,55,31,41],[34,59,31,45],[34,60,31,46],[35,4,33,2],[35,8,33,2,"useEffect"],[35,14,33,11],[35,15,33,11,"useEffect"],[35,24,33,11],[35,26,33,12],[35,32,33,18],[36,6,34,4,"loadStoredAuth"],[36,20,34,18],[36,21,34,19],[36,22,34,20],[37,4,35,2],[37,5,35,3],[37,7,35,5],[37,9,35,7],[37,10,35,8],[38,4,37,2],[38,10,37,8,"loadStoredAuth"],[38,24,37,22],[38,27,37,25],[38,33,37,25,"loadStoredAuth"],[38,34,37,25],[38,39,37,37],[39,6,38,4],[39,10,38,8],[40,8,39,6],[40,14,39,12,"storedToken"],[40,25,39,23],[40,28,39,26],[40,34,39,32,"AsyncStorage"],[40,46,39,44],[40,47,39,44,"default"],[40,54,39,44],[40,55,39,45,"getItem"],[40,62,39,52],[40,63,39,53],[40,75,39,65],[40,76,39,66],[41,8,40,6],[41,12,40,10,"storedToken"],[41,23,40,21],[41,25,40,23],[42,10,41,8,"api"],[42,19,41,11],[42,20,41,11,"api"],[42,23,41,11],[42,24,41,12,"setToken"],[42,32,41,20],[42,33,41,21,"storedToken"],[42,44,41,32],[42,45,41,33],[43,10,42,8],[43,16,42,14,"userData"],[43,24,42,22],[43,27,42,25],[43,33,42,31,"api"],[43,42,42,34],[43,43,42,34,"api"],[43,46,42,34],[43,47,42,35,"getMe"],[43,52,42,40],[43,53,42,41],[43,54,42,42],[44,10,43,8,"setUser"],[44,17,43,15],[44,18,43,16,"userData"],[44,26,43,24],[44,27,43,25],[45,10,44,8,"setToken"],[45,18,44,16],[45,19,44,17,"storedToken"],[45,30,44,28],[45,31,44,29],[46,8,45,6],[47,6,46,4],[47,7,46,5],[47,8,46,6],[47,14,46,12],[48,8,47,6],[48,14,47,12,"AsyncStorage"],[48,26,47,24],[48,27,47,24,"default"],[48,34,47,24],[48,35,47,25,"removeItem"],[48,45,47,35],[48,46,47,36],[48,58,47,48],[48,59,47,49],[49,8,48,6,"api"],[49,17,48,9],[49,18,48,9,"api"],[49,21,48,9],[49,22,48,10,"setToken"],[49,30,48,18],[49,31,48,19],[49,35,48,23],[49,36,48,24],[50,6,49,4],[50,7,49,5],[50,16,49,14],[51,8,50,6,"setLoading"],[51,18,50,16],[51,19,50,17],[51,24,50,22],[51,25,50,23],[52,6,51,4],[53,4,52,2],[53,5,52,3],[54,4,54,2],[54,10,54,8,"login"],[54,15,54,13],[54,18,54,16],[54,24,54,16,"login"],[54,25,54,23,"email"],[54,30,54,36],[54,32,54,38,"password"],[54,40,54,54],[54,45,54,59],[55,6,55,4],[55,12,55,10,"res"],[55,15,55,13],[55,18,55,16],[55,24,55,22,"api"],[55,33,55,25],[55,34,55,25,"api"],[55,37,55,25],[55,38,55,26,"login"],[55,43,55,31],[55,44,55,32],[56,8,55,34,"email"],[56,13,55,39],[57,8,55,41,"password"],[58,6,55,50],[58,7,55,51],[58,8,55,52],[59,6,56,4,"api"],[59,15,56,7],[59,16,56,7,"api"],[59,19,56,7],[59,20,56,8,"setToken"],[59,28,56,16],[59,29,56,17,"res"],[59,32,56,20],[59,33,56,21,"token"],[59,38,56,26],[59,39,56,27],[60,6,57,4],[60,12,57,10,"AsyncStorage"],[60,24,57,22],[60,25,57,22,"default"],[60,32,57,22],[60,33,57,23,"setItem"],[60,40,57,30],[60,41,57,31],[60,53,57,43],[60,55,57,45,"res"],[60,58,57,48],[60,59,57,49,"token"],[60,64,57,54],[60,65,57,55],[61,6,58,4,"setToken"],[61,14,58,12],[61,15,58,13,"res"],[61,18,58,16],[61,19,58,17,"token"],[61,24,58,22],[61,25,58,23],[62,6,59,4,"setUser"],[62,13,59,11],[62,14,59,12,"res"],[62,17,59,15],[62,18,59,16,"user"],[62,22,59,20],[62,23,59,21],[63,4,60,2],[63,5,60,3],[64,4,62,2],[64,10,62,8,"register"],[64,18,62,16],[64,21,62,19],[64,27,62,26,"data"],[64,31,62,114],[64,35,62,119],[65,6,63,4],[65,12,63,10,"res"],[65,15,63,13],[65,18,63,16],[65,24,63,22,"api"],[65,33,63,25],[65,34,63,25,"api"],[65,37,63,25],[65,38,63,26,"register"],[65,46,63,34],[65,47,63,35,"data"],[65,51,63,39],[65,52,63,40],[66,6,64,4,"api"],[66,15,64,7],[66,16,64,7,"api"],[66,19,64,7],[66,20,64,8,"setToken"],[66,28,64,16],[66,29,64,17,"res"],[66,32,64,20],[66,33,64,21,"token"],[66,38,64,26],[66,39,64,27],[67,6,65,4],[67,12,65,10,"AsyncStorage"],[67,24,65,22],[67,25,65,22,"default"],[67,32,65,22],[67,33,65,23,"setItem"],[67,40,65,30],[67,41,65,31],[67,53,65,43],[67,55,65,45,"res"],[67,58,65,48],[67,59,65,49,"token"],[67,64,65,54],[67,65,65,55],[68,6,66,4,"setToken"],[68,14,66,12],[68,15,66,13,"res"],[68,18,66,16],[68,19,66,17,"token"],[68,24,66,22],[68,25,66,23],[69,6,67,4,"setUser"],[69,13,67,11],[69,14,67,12,"res"],[69,17,67,15],[69,18,67,16,"user"],[69,22,67,20],[69,23,67,21],[70,4,68,2],[70,5,68,3],[71,4,70,2],[71,10,70,8,"logout"],[71,16,70,14],[71,19,70,17],[71,25,70,17,"logout"],[71,26,70,17],[71,31,70,29],[72,6,71,4],[72,12,71,10,"AsyncStorage"],[72,24,71,22],[72,25,71,22,"default"],[72,32,71,22],[72,33,71,23,"removeItem"],[72,43,71,33],[72,44,71,34],[72,56,71,46],[72,57,71,47],[73,6,72,4,"api"],[73,15,72,7],[73,16,72,7,"api"],[73,19,72,7],[73,20,72,8,"setToken"],[73,28,72,16],[73,29,72,17],[73,33,72,21],[73,34,72,22],[74,6,73,4,"setToken"],[74,14,73,12],[74,15,73,13],[74,19,73,17],[74,20,73,18],[75,6,74,4,"setUser"],[75,13,74,11],[75,14,74,12],[75,18,74,16],[75,19,74,17],[76,4,75,2],[76,5,75,3],[77,4,77,2],[77,10,77,8,"updateUser"],[77,20,77,18],[77,23,77,21],[77,29,77,28,"data"],[77,33,77,37],[77,37,77,42],[78,6,78,4],[78,12,78,10,"updated"],[78,19,78,17],[78,22,78,20],[78,28,78,26,"api"],[78,37,78,29],[78,38,78,29,"api"],[78,41,78,29],[78,42,78,30,"updateProfile"],[78,55,78,43],[78,56,78,44,"data"],[78,60,78,48],[78,61,78,49],[79,6,79,4,"setUser"],[79,13,79,11],[79,14,79,12,"updated"],[79,21,79,19],[79,22,79,20],[80,4,80,2],[80,5,80,3],[81,4,82,2],[81,24,83,4],[81,28,83,4,"_reactJsxDevRuntime"],[81,47,83,4],[81,48,83,4,"jsxDEV"],[81,54,83,4],[81,56,83,5,"AuthContext"],[81,67,83,16],[81,68,83,17,"Provider"],[81,76,83,25],[82,6,83,26,"value"],[82,11,83,31],[82,13,83,33],[83,8,83,35,"user"],[83,12,83,39],[84,8,83,41,"token"],[84,13,83,46],[85,8,83,48,"loading"],[85,15,83,55],[86,8,83,57,"login"],[86,13,83,62],[87,8,83,64,"register"],[87,16,83,72],[88,8,83,74,"logout"],[88,14,83,80],[89,8,83,82,"updateUser"],[89,18,83,92],[90,8,83,94,"isAdmin"],[90,15,83,101],[90,17,83,103,"user"],[90,21,83,107],[90,23,83,109,"role"],[90,27,83,113],[90,32,83,118],[91,6,83,126],[91,7,83,128],[92,6,83,128,"children"],[92,14,83,128],[92,16,84,7,"children"],[93,4,84,15],[94,6,84,15,"fileName"],[94,14,84,15],[94,16,84,15,"_jsxFileName"],[94,28,84,15],[95,6,84,15,"lineNumber"],[95,16,84,15],[96,6,84,15,"columnNumber"],[96,18,84,15],[97,4,84,15],[97,11,85,26],[97,12,85,27],[98,2,87,0],[99,2,87,1,"_s"],[99,4,87,1],[99,5,28,16,"AuthProvider"],[99,17,28,28],[100,2,28,28,"_c"],[100,4,28,28],[100,7,28,16,"AuthProvider"],[100,19,28,28],[101,2,89,7],[101,8,89,13,"useAuth"],[101,15,89,20],[101,18,89,23,"useAuth"],[101,19,89,23],[102,4,89,23,"_s2"],[102,7,89,23],[103,4,89,23],[103,11,89,29],[103,15,89,29,"useContext"],[103,21,89,39],[103,22,89,39,"useContext"],[103,32,89,39],[103,34,89,40,"AuthContext"],[103,45,89,51],[103,46,89,52],[104,2,89,52],[105,2,89,53,"_s2"],[105,5,89,53],[105,6,89,13,"useAuth"],[105,13,89,20],[106,2,89,20],[106,6,89,20,"_c"],[106,8,89,20],[107,2,89,20,"$RefreshReg$"],[107,14,89,20],[107,15,89,20,"_c"],[107,17,89,20],[108,0,89,20],[108,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","updateUser","useAuth"],"mappings":"AAA;OC2B;YCK;GDE;yBEE;GFe;gBGE;GHM;mBIE;GJM;iBKE;GLK;qBME;GNG;CDO;uBQE,6BR"},"hasCjsExports":false},"type":"js/module"}]}