{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":35,"index":195}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        if (storedToken) {\n          _utilsApi.api.setToken(storedToken);\n          const userData = await _utilsApi.api.getMe();\n          setUser(userData);\n          setToken(storedToken);\n        }\n      } catch {\n        await AsyncStorage.default.removeItem('auth_token');\n        _utilsApi.api.setToken(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const res = await _utilsApi.api.login({\n        email,\n        password\n      });\n      _utilsApi.api.setToken(res.token);\n      await AsyncStorage.default.setItem('auth_token', res.token);\n      setToken(res.token);\n      setUser(res.user);\n    };\n    const register = async data => {\n      const res = await _utilsApi.api.register(data);\n      _utilsApi.api.setToken(res.token);\n      await AsyncStorage.default.setItem('auth_token', res.token);\n      setToken(res.token);\n      setUser(res.user);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      _utilsApi.api.setToken(null);\n      setToken(null);\n      setUser(null);\n    };\n    const updateUser = async data => {\n      const updated = await _utilsApi.api.updateProfile(data);\n      setUser(updated);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout,\n        updateUser,\n        isAdmin: user?.role === 'admin'\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this);\n  }\n  const useAuth = () => (0, _react.useContext)(AuthContext);\n});","lineCount":97,"map":[[13,2,28,0,"exports"],[13,9,28,0],[13,10,28,0,"AuthProvider"],[13,22,28,0],[13,25,28,0,"AuthProvider"],[13,37,28,0],[14,2,89,0,"Object"],[14,8,89,0],[14,9,89,0,"defineProperty"],[14,23,89,0],[14,24,89,0,"exports"],[14,31,89,0],[15,4,89,0,"enumerable"],[15,14,89,0],[16,4,89,0,"get"],[16,7,89,0],[16,18,89,0,"get"],[16,19,89,0],[17,6,89,0],[17,13,89,0,"useAuth"],[17,20,89,0],[18,4,89,0],[19,2,89,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,3,0],[23,6,3,0,"_utilsApi"],[23,15,3,0],[23,18,3,0,"require"],[23,25,3,0],[23,26,3,0,"_dependencyMap"],[23,40,3,0],[24,2,3,35],[24,6,3,35,"_reactJsxDevRuntime"],[24,25,3,35],[24,28,3,35,"require"],[24,35,3,35],[24,36,3,35,"_dependencyMap"],[24,50,3,35],[25,2,26,0],[25,8,26,6,"AuthContext"],[25,19,26,17],[25,35,26,20],[25,39,26,20,"createContext"],[25,45,26,33],[25,46,26,33,"createContext"],[25,59,26,33],[25,61,26,51],[25,62,26,52],[25,63,26,72],[25,64,26,73],[26,2,28,7],[26,11,28,16,"AuthProvider"],[26,23,28,28,"AuthProvider"],[26,24,28,29],[27,4,28,31,"children"],[28,2,28,65],[28,3,28,66],[28,5,28,68],[29,4,29,2],[29,10,29,8],[29,11,29,9,"user"],[29,15,29,13],[29,17,29,15,"setUser"],[29,24,29,22],[29,25,29,23],[29,28,29,26],[29,32,29,26,"useState"],[29,38,29,34],[29,39,29,34,"useState"],[29,47,29,34],[29,49,29,48],[29,53,29,52],[29,54,29,53],[30,4,30,2],[30,10,30,8],[30,11,30,9,"token"],[30,16,30,14],[30,18,30,16,"setToken"],[30,26,30,24],[30,27,30,25],[30,30,30,28],[30,34,30,28,"useState"],[30,40,30,36],[30,41,30,36,"useState"],[30,49,30,36],[30,51,30,52],[30,55,30,56],[30,56,30,57],[31,4,31,2],[31,10,31,8],[31,11,31,9,"loading"],[31,18,31,16],[31,20,31,18,"setLoading"],[31,30,31,28],[31,31,31,29],[31,34,31,32],[31,38,31,32,"useState"],[31,44,31,40],[31,45,31,40,"useState"],[31,53,31,40],[31,55,31,41],[31,59,31,45],[31,60,31,46],[32,4,33,2],[32,8,33,2,"useEffect"],[32,14,33,11],[32,15,33,11,"useEffect"],[32,24,33,11],[32,26,33,12],[32,32,33,18],[33,6,34,4,"loadStoredAuth"],[33,20,34,18],[33,21,34,19],[33,22,34,20],[34,4,35,2],[34,5,35,3],[34,7,35,5],[34,9,35,7],[34,10,35,8],[35,4,37,2],[35,10,37,8,"loadStoredAuth"],[35,24,37,22],[35,27,37,25],[35,33,37,25,"loadStoredAuth"],[35,34,37,25],[35,39,37,37],[36,6,38,4],[36,10,38,8],[37,8,39,6],[37,14,39,12,"storedToken"],[37,25,39,23],[37,28,39,26],[37,34,39,32,"AsyncStorage"],[37,46,39,44],[37,47,39,44,"default"],[37,54,39,44],[37,55,39,45,"getItem"],[37,62,39,52],[37,63,39,53],[37,75,39,65],[37,76,39,66],[38,8,40,6],[38,12,40,10,"storedToken"],[38,23,40,21],[38,25,40,23],[39,10,41,8,"api"],[39,19,41,11],[39,20,41,11,"api"],[39,23,41,11],[39,24,41,12,"setToken"],[39,32,41,20],[39,33,41,21,"storedToken"],[39,44,41,32],[39,45,41,33],[40,10,42,8],[40,16,42,14,"userData"],[40,24,42,22],[40,27,42,25],[40,33,42,31,"api"],[40,42,42,34],[40,43,42,34,"api"],[40,46,42,34],[40,47,42,35,"getMe"],[40,52,42,40],[40,53,42,41],[40,54,42,42],[41,10,43,8,"setUser"],[41,17,43,15],[41,18,43,16,"userData"],[41,26,43,24],[41,27,43,25],[42,10,44,8,"setToken"],[42,18,44,16],[42,19,44,17,"storedToken"],[42,30,44,28],[42,31,44,29],[43,8,45,6],[44,6,46,4],[44,7,46,5],[44,8,46,6],[44,14,46,12],[45,8,47,6],[45,14,47,12,"AsyncStorage"],[45,26,47,24],[45,27,47,24,"default"],[45,34,47,24],[45,35,47,25,"removeItem"],[45,45,47,35],[45,46,47,36],[45,58,47,48],[45,59,47,49],[46,8,48,6,"api"],[46,17,48,9],[46,18,48,9,"api"],[46,21,48,9],[46,22,48,10,"setToken"],[46,30,48,18],[46,31,48,19],[46,35,48,23],[46,36,48,24],[47,6,49,4],[47,7,49,5],[47,16,49,14],[48,8,50,6,"setLoading"],[48,18,50,16],[48,19,50,17],[48,24,50,22],[48,25,50,23],[49,6,51,4],[50,4,52,2],[50,5,52,3],[51,4,54,2],[51,10,54,8,"login"],[51,15,54,13],[51,18,54,16],[51,24,54,16,"login"],[51,25,54,23,"email"],[51,30,54,36],[51,32,54,38,"password"],[51,40,54,54],[51,45,54,59],[52,6,55,4],[52,12,55,10,"res"],[52,15,55,13],[52,18,55,16],[52,24,55,22,"api"],[52,33,55,25],[52,34,55,25,"api"],[52,37,55,25],[52,38,55,26,"login"],[52,43,55,31],[52,44,55,32],[53,8,55,34,"email"],[53,13,55,39],[54,8,55,41,"password"],[55,6,55,50],[55,7,55,51],[55,8,55,52],[56,6,56,4,"api"],[56,15,56,7],[56,16,56,7,"api"],[56,19,56,7],[56,20,56,8,"setToken"],[56,28,56,16],[56,29,56,17,"res"],[56,32,56,20],[56,33,56,21,"token"],[56,38,56,26],[56,39,56,27],[57,6,57,4],[57,12,57,10,"AsyncStorage"],[57,24,57,22],[57,25,57,22,"default"],[57,32,57,22],[57,33,57,23,"setItem"],[57,40,57,30],[57,41,57,31],[57,53,57,43],[57,55,57,45,"res"],[57,58,57,48],[57,59,57,49,"token"],[57,64,57,54],[57,65,57,55],[58,6,58,4,"setToken"],[58,14,58,12],[58,15,58,13,"res"],[58,18,58,16],[58,19,58,17,"token"],[58,24,58,22],[58,25,58,23],[59,6,59,4,"setUser"],[59,13,59,11],[59,14,59,12,"res"],[59,17,59,15],[59,18,59,16,"user"],[59,22,59,20],[59,23,59,21],[60,4,60,2],[60,5,60,3],[61,4,62,2],[61,10,62,8,"register"],[61,18,62,16],[61,21,62,19],[61,27,62,26,"data"],[61,31,62,114],[61,35,62,119],[62,6,63,4],[62,12,63,10,"res"],[62,15,63,13],[62,18,63,16],[62,24,63,22,"api"],[62,33,63,25],[62,34,63,25,"api"],[62,37,63,25],[62,38,63,26,"register"],[62,46,63,34],[62,47,63,35,"data"],[62,51,63,39],[62,52,63,40],[63,6,64,4,"api"],[63,15,64,7],[63,16,64,7,"api"],[63,19,64,7],[63,20,64,8,"setToken"],[63,28,64,16],[63,29,64,17,"res"],[63,32,64,20],[63,33,64,21,"token"],[63,38,64,26],[63,39,64,27],[64,6,65,4],[64,12,65,10,"AsyncStorage"],[64,24,65,22],[64,25,65,22,"default"],[64,32,65,22],[64,33,65,23,"setItem"],[64,40,65,30],[64,41,65,31],[64,53,65,43],[64,55,65,45,"res"],[64,58,65,48],[64,59,65,49,"token"],[64,64,65,54],[64,65,65,55],[65,6,66,4,"setToken"],[65,14,66,12],[65,15,66,13,"res"],[65,18,66,16],[65,19,66,17,"token"],[65,24,66,22],[65,25,66,23],[66,6,67,4,"setUser"],[66,13,67,11],[66,14,67,12,"res"],[66,17,67,15],[66,18,67,16,"user"],[66,22,67,20],[66,23,67,21],[67,4,68,2],[67,5,68,3],[68,4,70,2],[68,10,70,8,"logout"],[68,16,70,14],[68,19,70,17],[68,25,70,17,"logout"],[68,26,70,17],[68,31,70,29],[69,6,71,4],[69,12,71,10,"AsyncStorage"],[69,24,71,22],[69,25,71,22,"default"],[69,32,71,22],[69,33,71,23,"removeItem"],[69,43,71,33],[69,44,71,34],[69,56,71,46],[69,57,71,47],[70,6,72,4,"api"],[70,15,72,7],[70,16,72,7,"api"],[70,19,72,7],[70,20,72,8,"setToken"],[70,28,72,16],[70,29,72,17],[70,33,72,21],[70,34,72,22],[71,6,73,4,"setToken"],[71,14,73,12],[71,15,73,13],[71,19,73,17],[71,20,73,18],[72,6,74,4,"setUser"],[72,13,74,11],[72,14,74,12],[72,18,74,16],[72,19,74,17],[73,4,75,2],[73,5,75,3],[74,4,77,2],[74,10,77,8,"updateUser"],[74,20,77,18],[74,23,77,21],[74,29,77,28,"data"],[74,33,77,37],[74,37,77,42],[75,6,78,4],[75,12,78,10,"updated"],[75,19,78,17],[75,22,78,20],[75,28,78,26,"api"],[75,37,78,29],[75,38,78,29,"api"],[75,41,78,29],[75,42,78,30,"updateProfile"],[75,55,78,43],[75,56,78,44,"data"],[75,60,78,48],[75,61,78,49],[76,6,79,4,"setUser"],[76,13,79,11],[76,14,79,12,"updated"],[76,21,79,19],[76,22,79,20],[77,4,80,2],[77,5,80,3],[78,4,82,2],[78,24,83,4],[78,28,83,4,"_reactJsxDevRuntime"],[78,47,83,4],[78,48,83,4,"jsxDEV"],[78,54,83,4],[78,56,83,5,"AuthContext"],[78,67,83,16],[78,68,83,17,"Provider"],[78,76,83,25],[79,6,83,26,"value"],[79,11,83,31],[79,13,83,33],[80,8,83,35,"user"],[80,12,83,39],[81,8,83,41,"token"],[81,13,83,46],[82,8,83,48,"loading"],[82,15,83,55],[83,8,83,57,"login"],[83,13,83,62],[84,8,83,64,"register"],[84,16,83,72],[85,8,83,74,"logout"],[85,14,83,80],[86,8,83,82,"updateUser"],[86,18,83,92],[87,8,83,94,"isAdmin"],[87,15,83,101],[87,17,83,103,"user"],[87,21,83,107],[87,23,83,109,"role"],[87,27,83,113],[87,32,83,118],[88,6,83,126],[88,7,83,128],[89,6,83,128,"children"],[89,14,83,128],[89,16,84,7,"children"],[90,4,84,15],[91,6,84,15,"fileName"],[91,14,84,15],[91,16,84,15,"_jsxFileName"],[91,28,84,15],[92,6,84,15,"lineNumber"],[92,16,84,15],[93,6,84,15,"columnNumber"],[93,18,84,15],[94,4,84,15],[94,11,85,26],[94,12,85,27],[95,2,87,0],[96,2,89,7],[96,8,89,13,"useAuth"],[96,15,89,20],[96,18,89,23,"useAuth"],[96,19,89,23],[96,24,89,29],[96,28,89,29,"useContext"],[96,34,89,39],[96,35,89,39,"useContext"],[96,45,89,39],[96,47,89,40,"AuthContext"],[96,58,89,51],[96,59,89,52],[97,0,89,53],[97,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","updateUser","useAuth"],"mappings":"AAA;OC2B;YCK;GDE;yBEE;GFe;gBGE;GHM;mBIE;GJM;iBKE;GLK;qBME;GNG;CDO;uBQE,6BR"},"hasCjsExports":false},"type":"js/module"}]}